(this.webpackJsonplyricbook=this.webpackJsonplyricbook||[]).push([[0],{23:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(16),s=c.n(i),o=(c(23),c(15)),r=c(7),l=c(2),j=c(6),u=c(0);var h=function(){return Object(u.jsxs)("div",{className:"signup-login-page",children:[Object(u.jsx)("h1",{className:"logo-signup-login",children:"lyricbook"}),Object(u.jsxs)("div",{className:"signup-login-box",children:[Object(u.jsx)("h2",{className:"signup-login-text",children:"Login or Signup"}),Object(u.jsx)(j.b,{exact:!0,to:"/login",children:Object(u.jsx)("button",{className:"signin-home-buttons",children:"Login"})}),Object(u.jsx)(j.b,{exact:!0,to:"/signup",children:Object(u.jsx)("button",{className:"signin-home-buttons",children:"Signup"})})]})]})},b=c(3);var d=function(e){var t=e.handleLogin,c=Object(n.useState)(""),a=Object(l.a)(c,2),i=a[0],s=a[1],o=Object(n.useState)(""),r=Object(l.a)(o,2),j=r[0],h=r[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),O=m[0],p=m[1],x=Object(b.f)();return Object(u.jsxs)("div",{className:"login-page",children:[Object(u.jsxs)("form",{className:"login-form",onSubmit:function(e){e.preventDefault(),e.target.reset(),function(e,c){fetch("".concat("https://lyricbook-backend.herokuapp.com/","/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:"".concat(e),password:"".concat(c)}})}).then((function(e){e.ok?e.json().then((function(e){t(e.user),localStorage.setItem("jwt",e.jwt),x.push("/home")})):(console.log("wrong username/password"),e.json().then((function(e){p(e.message)})))}))}(i,j)},children:[Object(u.jsx)("h2",{className:"login-text",children:"Login"}),Object(u.jsx)("input",{className:"login-inputs",type:"text",id:"username",placeholder:" Username",value:i,onChange:function(e){return s(e.target.value)}}),Object(u.jsx)("input",{className:"login-inputs",type:"password",id:"password",placeholder:" Password",value:j,onChange:function(e){return h(e.target.value)}}),Object(u.jsx)("button",{className:"login-button",type:"submit",children:"Login"})]}),Object(u.jsx)("h4",{className:"login-error",children:O})]})};var m=function(e){var t=e.handleLogin,c=Object(n.useState)(""),a=Object(l.a)(c,2),i=a[0],s=a[1],o=Object(n.useState)(""),r=Object(l.a)(o,2),j=r[0],h=r[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),O=m[0],p=m[1],x=Object(n.useState)(""),g=Object(l.a)(x,2),f=g[0],y=g[1],v=Object(n.useState)(""),N=Object(l.a)(v,2),S=N[0],w=N[1],C=Object(b.f)();return Object(u.jsx)("div",{className:"signup-page",children:Object(u.jsxs)("div",{className:"signup-form-container",children:[Object(u.jsxs)("form",{onSubmit:function(e){e.target.reset(),e.preventDefault(),function(e,c,n,a){fetch("".concat("https://lyricbook-backend.herokuapp.com/","/users"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:"".concat(e),password:"".concat(c),bio:"".concat(n),profile_img:"".concat(a)}})}).then((function(e){e.ok?e.json().then((function(e){t(e.user),localStorage.setItem("jwt",e.jwt),C.push("/home")})):(console.log("form incorrectly filled out"),e.json().then((function(e){w(e.error)})))}))}(i,j,O,f)},className:"signup-form",children:[Object(u.jsx)("h2",{className:"signup-text",children:"Signup"}),Object(u.jsx)("input",{className:"signup-inputs",type:"text",id:"username",placeholder:" Username",value:i,onChange:function(e){return s(e.target.value)}}),Object(u.jsx)("input",{className:"signup-inputs",type:"password",id:"password",placeholder:" Password",value:j,onChange:function(e){return h(e.target.value)}}),Object(u.jsx)("input",{className:"signup-input-bio",type:"text",id:"password",placeholder:" Tell us about yourself",value:O,onChange:function(e){return p(e.target.value)}}),Object(u.jsx)("input",{className:"signup-inputs",type:"text",id:"password",placeholder:" Insert profile picture",value:f,onChange:function(e){return y(e.target.value)}}),Object(u.jsx)("button",{type:"submit",className:"signup-button",children:"Signup"})]}),Object(u.jsx)("h4",{className:"signup-error",children:S})]})})};var O=function(e){var t=e.user,c=e.onLogout,n=e.toHome,a=e.toProfile;return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"prof-img-container",children:Object(u.jsx)("img",{src:t.profile_img?t.profile_img:"default-profile-picture.jpeg",alt:"avatar",className:"header-prof",onClick:a})}),Object(u.jsx)("h1",{className:"logo",onClick:n,children:"lyricbook"}),Object(u.jsxs)("button",{onClick:c,className:"logout-button",children:[Object(u.jsx)("div",{className:"logout-text",children:"logout"}),Object(u.jsx)("div",{className:"logout-icon",children:Object(u.jsx)("ion-icon",{name:"log-out-outline"})})]})]})};var p=function(){return Object(u.jsxs)("div",{className:"nav-bar",children:[Object(u.jsx)(j.c,{activeClassName:"active-nav-link",className:"nav-link",exact:!0,to:"/home",children:"Home"}),Object(u.jsx)(j.c,{activeClassName:"active-nav-link",className:"nav-link",exact:!0,to:"/dashboard",children:"Journal"}),Object(u.jsx)(j.c,{activeClassName:"active-nav-link",className:"nav-link",exact:!0,to:"/profile",children:"Profile"})]})};var x=function(e){var t=e.user,c=e.onLogout,n=e.toDash,a=e.toHome,i=e.toProfile;return Object(u.jsxs)("div",{className:"home",children:[Object(u.jsx)(O,{user:t,onLogout:c,toHome:a,toProfile:i}),Object(u.jsx)(p,{}),Object(u.jsxs)("div",{className:"home-details",children:[Object(u.jsx)("h3",{className:"welcome-text",children:"welcome to lyricbook!"}),Object(u.jsx)("button",{className:"home-start-button",onClick:n,children:"Get Started!"})]})]})};var g=function(e){var t=e.lyric,c=e.handleShowLyric,n=e.deleteLyric,a=e.handleShowEditor;return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"lyric-box",children:[Object(u.jsx)("h1",{className:"lyric-box-title",onClick:function(){return c(t.id)},children:t.title}),Object(u.jsx)("h2",{className:"lyric-box-artist",children:t.artist_name}),Object(u.jsxs)("div",{className:"lyric-buttons-container",children:[Object(u.jsx)("button",{onClick:function(){return a(t.id)},className:"lyric-buttons",children:Object(u.jsx)("span",{className:"button-icons",children:Object(u.jsx)("ion-icon",{name:"create-outline"})})}),Object(u.jsx)("button",{onClick:function(){return n(t.id)},className:"lyric-buttons",children:Object(u.jsx)("span",{className:"button-icons",children:Object(u.jsx)("ion-icon",{name:"trash-outline"})})})]})]})})};var f=function(e){var t=e.user,c=e.handleShowLyric,n=e.deleteLyric,a=e.handleShowEditor,i=e.toLyricSubmission;return Object(u.jsxs)("div",{className:"lyrics-container",children:[t.lyrics?t.lyrics.map((function(e){return Object(u.jsx)(g,{lyric:e,user:t,handleShowLyric:c,deleteLyric:n,handleShowEditor:a},e.id)})):null,Object(u.jsx)("button",{className:"add-lyric-box",onClick:i,children:Object(u.jsx)("h1",{className:"add-lyric-box-title",children:"New Song"})})]})};var y=function(e){var t=e.lyricShow,c=e.handleShowAllLyrics;return Object(u.jsxs)("div",{className:"lyric-view",children:[Object(u.jsx)("button",{className:"back-button",onClick:c,children:Object(u.jsx)("ion-icon",{name:"arrow-back-circle-outline"})}),Object(u.jsx)("div",{className:"lyric-details-box-container",children:Object(u.jsxs)("div",{className:"lyric-details-box",children:[Object(u.jsxs)("div",{className:"title-artist-container",children:[Object(u.jsx)("h1",{className:"lyric-title",children:t.title}),Object(u.jsx)("h2",{className:"lyric-artist",children:t.artist_name})]}),Object(u.jsx)("p",{className:"lyric-content",children:t.content}),Object(u.jsxs)("div",{className:"copyright-container",children:[Object(u.jsxs)("h5",{className:"lyric-copyright",children:["\xa9 ",t.copyright_name]}),Object(u.jsx)("h5",{className:"lyric-copyright",children:t.copyright_year})]})]})})]})};var v=function(e){var t=e.user,c=e.handleShowLyric,n=e.handleShowAllLyrics,a=e.handleShowEditor,i=e.deleteLyric,s=e.lyricClicked,o=e.lyricShow,r=e.onLogout,l=e.toLyricSubmission,j=e.toHome,h=e.toProfile;return Object(u.jsx)("div",{className:"dashboard",children:s?Object(u.jsx)("div",{children:Object(u.jsx)(y,{lyricShow:o,handleShowAllLyrics:n})}):Object(u.jsxs)("div",{children:[Object(u.jsx)(O,{user:t,onLogout:r,toHome:j,toProfile:h}),Object(u.jsx)(p,{}),Object(u.jsx)(f,{user:t,handleShowLyric:c,deleteLyric:i,handleShowEditor:a,toLyricSubmission:l})]})})};var N=function(e){var t=e.user,c=e.onLogout,n=e.toHome,a=e.toProfile;return Object(u.jsxs)("div",{children:[Object(u.jsx)(O,{user:t,onLogout:c,toHome:n,toProfile:a}),Object(u.jsx)(p,{}),Object(u.jsxs)("div",{className:"prof-items-container",children:[Object(u.jsx)("img",{src:t.profile_img?t.profile_img:"default-profile-picture.jpeg",alt:"avatar",className:"profile-img"}),Object(u.jsxs)("div",{className:"prof-details-container",children:[Object(u.jsx)("h2",{className:"profile-name",children:t.username}),Object(u.jsx)("p",{className:"profile-bio",children:t.bio})]})]})]})};var S=function(e){var t=e.addNewLyric,c=e.toDash,a=Object(n.useState)(""),i=Object(l.a)(a,2),s=i[0],o=i[1],r=Object(n.useState)(""),j=Object(l.a)(r,2),h=j[0],b=j[1],d=Object(n.useState)(""),m=Object(l.a)(d,2),O=m[0],p=m[1],x=Object(n.useState)(""),g=Object(l.a)(x,2),f=g[0],y=g[1];return Object(u.jsxs)("div",{className:"new-lyric-page",children:[Object(u.jsx)("button",{className:"back-button",onClick:c,children:Object(u.jsx)("ion-icon",{name:"arrow-back-circle-outline"})}),Object(u.jsx)("div",{className:"lyric-form-container",children:Object(u.jsxs)("form",{className:"new-lyric-form",onSubmit:function(e){e.preventDefault(),e.target.reset(),t({title:s,artist_name:h,content:O,copyright_name:f}),c()},children:[Object(u.jsx)("input",{className:"title-input",type:"text",placeholder:"Title",value:s,onChange:function(e){return o(e.target.value)}}),Object(u.jsx)("input",{className:"artist-input",type:"text",placeholder:"Artist",value:h,onChange:function(e){return b(e.target.value)}}),Object(u.jsx)("textarea",{className:"content-input",type:"text",placeholder:"Lyrics",value:O,onChange:function(e){return p(e.target.value)}}),Object(u.jsx)("div",{className:"resize-text-container",children:Object(u.jsxs)("div",{className:"text-and-icon",children:[Object(u.jsx)("h5",{className:"resize-text",children:"resize"}),Object(u.jsx)("ion-icon",{name:"caret-up-outline"})]})}),Object(u.jsx)("input",{className:"copyright-input",type:"text",placeholder:"\xa9 Copyright Name",value:f,onChange:function(e){return y(e.target.value)}}),Object(u.jsx)("button",{className:"submit-button",type:"submit",children:"Publish"})]})})]})};var w=function(e){var t=e.id,c=e.title,n=e.artist_name,a=e.content,i=e.copyright_name,s=e.editLyric,o=e.handleTitleChange,r=e.handleArtistChange,l=e.handleContentChange,j=e.handleCopyrightChange,h=e.toDash;return Object(u.jsxs)("div",{className:"edit-page",children:[Object(u.jsx)("button",{className:"back-button",onClick:h,children:Object(u.jsx)("ion-icon",{name:"arrow-back-circle-outline"})}),Object(u.jsx)("div",{className:"edit-lyric-form-container",children:Object(u.jsxs)("form",{className:"edit-lyric-form",onSubmit:function(e){e.preventDefault(),s(t),h()},children:[Object(u.jsx)("input",{className:"title-input",type:"text",value:c,onChange:o}),Object(u.jsx)("input",{className:"artist-input",type:"text",value:n,onChange:r}),Object(u.jsx)("textarea",{className:"content-input",type:"text",value:a,onChange:l}),Object(u.jsx)("div",{className:"resize-text-container",children:Object(u.jsxs)("div",{className:"text-and-icon",children:[Object(u.jsx)("h5",{className:"resize-text",children:"resize"}),Object(u.jsx)("ion-icon",{name:"caret-up-outline"})]})}),Object(u.jsx)("input",{className:"copyright-input",type:"text",value:i,onChange:j}),Object(u.jsx)("button",{className:"submit-button",type:"submit",children:"Save Changes"})]})})]})};var C=function(){var e="https://lyricbook-backend.herokuapp.com/";console.log("/lyricbook-frontend");var t=Object(n.useState)(!1),c=Object(l.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)({}),j=Object(l.a)(s,2),O=j[0],p=j[1],g=Object(n.useState)([]),f=Object(l.a)(g,2),y=f[0],C=f[1],k=Object(n.useState)([]),L=Object(l.a)(k,2),_=L[0],P=L[1],A=Object(n.useState)(!1),T=Object(l.a)(A,2),E=T[0],H=T[1],D=Object(n.useState)([]),z=Object(l.a)(D,2),I=z[0],J=z[1],B=Object(n.useState)(0),G=Object(l.a)(B,2),U=G[0],M=G[1],q=Object(b.f)();function F(){q.push("".concat("","/home"))}function K(){q.push("".concat("","/dashboard"))}function Q(){q.push("".concat("","/profile"))}function R(e){p(e),i(!0)}function V(){localStorage.clear(),p(null),i(!1),q.push("/login")}return Object(n.useEffect)((function(){var t=localStorage.getItem("jwt");fetch("".concat(e,"/profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){e.ok?e.json().then((function(e){i(!0),p(e.user),C(e.user.lyrics)})):console.log("please log in")}))}),[U]),Object(u.jsx)("div",{className:"app",children:Object(u.jsxs)(b.c,{children:[Object(u.jsx)(b.a,{exact:!0,path:"/",children:Object(u.jsx)(h,{})}),Object(u.jsx)(b.a,{exact:!0,path:"/login",children:Object(u.jsx)(d,{handleLogin:R})}),Object(u.jsx)(b.a,{exact:!0,path:"/signup",children:Object(u.jsx)(m,{handleLogin:R})}),a?Object(u.jsxs)("div",{children:[Object(u.jsx)(b.a,{exact:!0,path:"/home",children:Object(u.jsx)(x,{onLogout:V,user:O,toDash:K,toHome:F,toProfile:Q})}),Object(u.jsx)(b.a,{exact:!0,path:"/dashboard",children:Object(u.jsx)(v,{user:O,onLogout:V,handleShowLyric:function(e){P(O.lyrics.find((function(t){return t.id===e}))),H(!0)},handleShowAllLyrics:function(){H(!1)},lyricClicked:E,deleteLyric:function(t){var c=localStorage.getItem("jwt");fetch("".concat(e,"/lyrics/").concat(t),{method:"DELETE",headers:{Accepts:"application/json","Content-type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(){return C(y.filter((function(e){return e.id!==t})))})).then((function(){return M(U+1)}))},lyricShow:_,handleShowEditor:function(e){q.push("".concat("","/lyric-editor")),J(y.find((function(t){return t.id===e})))},toLyricSubmission:function(){q.push("".concat("","/lyric-submission"))},toHome:F,toProfile:Q})}),Object(u.jsx)(b.a,{exact:!0,path:"/profile",children:Object(u.jsx)(N,{user:O,onLogout:V,toHome:F,toProfile:Q})}),Object(u.jsx)(b.a,{exact:!0,path:"/lyric-submission",children:Object(u.jsx)(S,{addNewLyric:function(t){var c=localStorage.getItem("jwt");fetch("".concat(e,"/lyrics"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(Object(r.a)(Object(r.a)({},t),{},{user_id:O.id}))}).then((function(e){return e.json()})).then((function(e){C([e].concat(Object(o.a)(y)))})).then((function(){return M(U+1)}))},toDash:K})}),Object(u.jsx)(b.a,{exact:!0,path:"/lyric-editor",children:Object(u.jsx)(w,{user:O,editLyric:function(t){console.log("Clicked!");var c=localStorage.getItem("jwt");fetch("".concat(e,"/lyrics/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(I)}).then((function(e){return e.json()})).then((function(e){var c=y.filter((function(e){return e.id!==t})),n=[e].concat(Object(o.a)(c));C(n)})).then((function(){return M(U+1)}))},handleTitleChange:function(e){J(Object(r.a)(Object(r.a)({},I),{},{title:e.target.value}))},handleArtistChange:function(e){J(Object(r.a)(Object(r.a)({},I),{},{artist_name:e.target.value}))},handleContentChange:function(e){J(Object(r.a)(Object(r.a)({},I),{},{content:e.target.value}))},handleCopyrightChange:function(e){J(Object(r.a)(Object(r.a)({},I),{},{copyright_name:e.target.value}))},id:I.id,title:I.title,artist_name:I.artist_name,content:I.content,copyright_name:I.copyright_name,toDash:K})})]}):Object(u.jsx)(h,{})]})})};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(j.a,{basename:"/lyricbook-frontend",children:Object(u.jsx)(C,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.138635cf.chunk.js.map